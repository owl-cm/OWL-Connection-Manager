<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation | OWL - Connection Manager</title>
    <meta name="description"
        content="Comprehensive documentation for OWL Connection Manager. Learn about features, security, and usage.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Fallback critical styles to ensure layout works even if CSS is cached */
        .docs-container {
            display: flex;
            min-height: 100vh;
            padding-top: 100px;
        }

        .docs-sidebar {
            width: 320px;
            height: calc(100vh - 100px);
            position: fixed;
            left: 0;
            top: 100px;
            background: rgba(10, 10, 12, 0.4);
            backdrop-filter: blur(20px);
            border-right: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2.5rem;
            overflow-y: auto;
            z-index: 90;
        }

        .docs-content {
            flex: 1;
            margin-left: 320px;
            padding: 4rem 8% 8rem 8%;
            max-width: 1300px;
        }

        .sidebar-links a {
            color: #94a3b8;
            text-decoration: none;
            display: block;
            padding: 0.6rem 1rem;
            border-radius: 10px;
        }

        .sidebar-links a.active {
            background: rgba(255, 255, 255, 0.03);
            color: #f8fafc;
        }

        @media (max-width: 1024px) {
            .docs-sidebar {
                display: none;
            }

            .docs-content {
                margin-left: 0;
            }
        }
    </style>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="bg-blobs">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <nav>
        <div class="logo-container">
            <a href="index.html" style="text-decoration: none; display: flex; align-items: center; gap: 1rem;">
                <img src="owl_logo.png" alt="OWL Logo" class="logo-img">
                <span class="logo-text">OWL</span>
            </a>
        </div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="#introduction">Introduction</a>
            <a href="#installation">Installation</a>
            <a href="#security">Security</a>
        </div>
        <a href="#" id="nav-download-btn" class="btn btn-primary" style="padding: 0.6rem 1.5rem; font-size: 0.9rem;">
            <i data-lucide="download"></i> Download
        </a>
    </nav>

    <div class="docs-container">
        <aside class="docs-sidebar">
            <div class="sidebar-nav">
                <div class="sidebar-section">
                    <h4>Getting Started</h4>
                    <div class="sidebar-links">
                        <a href="#introduction" class="active">Introduction</a>
                        <a href="#installation">Installation</a>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h4>Core Security</h4>
                    <div class="sidebar-links">
                        <a href="#security">Secure Vault</a>
                        <a href="#master-password">Master Password</a>
                        <a href="#auto-lock">Auto-Lock System</a>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h4>Management</h4>
                    <div class="sidebar-links">
                        <a href="#connection-management">Connection Tree</a>
                        <a href="#folders-labels">Folders & Labels</a>
                        <a href="#smart-cloning">Smart Cloning</a>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h4>Terminal & Protocols</h4>
                    <div class="sidebar-links">
                        <a href="#terminal-capabilities">SSH Terminal</a>
                        <a href="#remote-protocols">RDP & VNC</a>
                        <a href="#broadcast-mode">Broadcast Mode</a>
                        <a href="#bastion-hosts">Bastion Support</a>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h4>Remote Tools</h4>
                    <div class="sidebar-links">
                        <a href="#file-explorer">SFTP Explorer</a>
                        <a href="#monitoring">Metrics & Processes</a>
                    </div>
                </div>
                <div class="sidebar-section">
                    <h4>Advanced</h4>
                    <div class="sidebar-links">
                        <a href="#command-palette">Command Palette</a>
                        <a href="#snippets">Command Snippets</a>
                        <a href="#session-logging">Session Logging</a>
                        <a href="#backups">Backups & Migration</a>
                    </div>
                </div>
            </div>
        </aside>

        <main class="docs-content">
            <section id="introduction">
                <h1>Documentation</h1>
                <p>OWL is a professional-grade connection manager designed for system administrators and power users. It
                    provides a unified, secure, and aesthetically superior environment for managing remote
                    infrastructure across multiple protocols.</p>

                <p>This documentation provides a comprehensive technical overview of OWL's architecture, security model,
                    and feature set. Whether you are managing a single server or a complex multi-cloud environment, OWL
                    is engineered to streamline your workflow.</p>
            </section>

            <section id="installation">
                <h2><i data-lucide="download-cloud"></i> Installation</h2>
                <p>OWL is natively optimized for Linux distributions. Follow the instructions below to deploy OWL on
                    your workstation.</p>

                <h3>Debian-based Distributions (.deb)</h3>
                <p>The recommended way to install OWL on Ubuntu, Debian, or Linux Mint is via the official package. You
                    can download the latest stable release from <a href="#" id="direct-download-link"
                        style="color: var(--primary); font-weight: 600;">here</a>.</p>

                <p>Once downloaded, execute the following commands in your terminal:</p>
                <pre><code>sudo dpkg -i owl-connection-manager_*.deb
sudo apt-get install -f # To resolve any missing dependencies</code></pre>

                <h3>Building from Source</h3>
                <p>For developers or users on other distributions, OWL can be compiled from source. Ensure you have
                    Node.js (v16+) and npm installed.</p>
                <pre><code># Clone the repository
git clone https://github.com/owl-cm/OWL-Connection-Manager.git

# Navigate to the directory
cd OWL-Connection-Manager

# Install dependencies
npm install

# Launch the application
npm start</code></pre>
            </section>

            <section id="security">
                <h2><i data-lucide="shield-check"></i> Security Architecture</h2>
                <p>Security is the core pillar of OWL. The application is designed with a zero-trust approach to
                    credential management, ensuring that your sensitive data never leaves your local machine.</p>

                <h3 id="secure-vault">The Secure Vault</h3>
                <p>All connection metadata, including passwords, private key paths, and passphrases, is stored in a
                    local JSON vault. This vault is encrypted using <strong>AES-256-GCM</strong> (Galois/Counter Mode),
                    providing both confidentiality and authenticity.</p>

                <h3 id="master-password">Master Password & Key Derivation</h3>
                <p>Upon initial launch, you are required to establish a Master Password. OWL uses the
                    <strong>PBKDF2</strong> (Password-Based Key Derivation Function 2) algorithm with <strong>100,000
                        iterations</strong> and a unique salt to derive the encryption key.
                </p>
                <p><strong>Important:</strong> OWL does not store your Master Password. If lost, the encrypted vault
                    cannot be recovered.</p>

                <h3 id="auto-lock">Session Auto-Lock</h3>
                <p>To protect against unauthorized physical access, OWL includes a configurable inactivity timer. When
                    triggered, the application securely clears the encryption key from memory and returns to the lock
                    screen, requiring the Master Password to resume operations.</p>
            </section>

            <section id="connection-management">
                <h2><i data-lucide="share-2"></i> Connection Management</h2>
                <p>OWL features a sophisticated hierarchical management system that allows you to organize thousands of
                    connections with ease.</p>

                <h3 id="folders-labels">Hierarchical Organization & Labels</h3>
                <p>Connections can be organized into nested folders, allowing you to mirror your infrastructure's
                    logical layout (e.g., Region > Environment > Service). </p>
                <p>Use <strong>Color Labels</strong> to categorize connections by importance or environment (e.g., Red
                    for Production, Green for Development). These labels provide instant visual cues in the connection
                    tree and terminal tabs.</p>

                <h3 id="smart-cloning">Smart Cloning</h3>
                <p>The Smart Cloning feature allows you to duplicate existing connection configurations with a single
                    click. The cloned connection inherits all settings (excluding unique identifiers) and is
                    automatically placed within the same parent folder, significantly reducing setup time for server
                    clusters.</p>
            </section>

            <section id="terminal-capabilities">
                <h2><i data-lucide="terminal"></i> Terminal & Remote Protocols</h2>
                <p>OWL provides a high-performance terminal experience and integrated support for graphical remote
                    access.</p>

                <h3>High-Performance SSH</h3>
                <p>Built on <code>xterm.js</code> and <code>node-pty</code>, the SSH terminal supports:</p>
                <ul>
                    <li><strong>True Color (24-bit)</strong> support for modern CLI tools.</li>
                    <li><strong>Full Mouse Integration</strong> for applications like <code>htop</code>,
                        <code>vim</code>, and <code>tmux</code>.
                    </li>
                    <li><strong>Automated Authentication</strong>: Seamless handling of password prompts and SSH agent
                        integration.</li>
                </ul>

                <h3 id="remote-protocols">RDP & VNC Support</h3>
                <p>Beyond the terminal, OWL integrates RDP (Remote Desktop Protocol) and VNC support, allowing you to
                    manage Windows and graphical Linux environments from the same unified interface.</p>

                <h3 id="broadcast-mode">Broadcast Mode (Multi-Exec)</h3>
                <p>Broadcast Mode allows you to synchronize input across all active terminal sessions. Commands typed in
                    the primary pane are instantly executed on all other connected hosts, making it an essential tool
                    for fleet-wide updates or configuration checks.</p>

                <h3 id="bastion-hosts">Bastion & Jump Host Integration</h3>
                <p>OWL simplifies access to private networks through integrated <strong>ProxyJump</strong> support. You
                    can configure a Bastion host as a gateway, and OWL will automatically handle the multi-hop SSH
                    tunnel transparently.</p>
            </section>

            <section id="file-explorer">
                <h2><i data-lucide="folder-tree"></i> SFTP File Explorer</h2>
                <p>The integrated SFTP explorer provides a powerful graphical interface for remote file management,
                    eliminating the need for external clients.</p>

                <ul>
                    <li><strong>Drag-and-Drop</strong>: Seamlessly upload files and directories by dragging them from
                        your local file manager.</li>
                    <li><strong>Directory Insights</strong>: Instantly calculate remote directory sizes using optimized
                        background processes.</li>
                    <li><strong>Breadcrumb Navigation</strong>: Rapidly navigate complex remote filesystems with an
                        interactive path bar.</li>
                </ul>
            </section>

            <section id="monitoring">
                <h2><i data-lucide="activity"></i> Real-Time Monitoring & Insights</h2>
                <p>Gain immediate visibility into the health and performance of your remote systems without executing
                    manual commands.</p>

                <h3>Metrics Dashboard</h3>
                <p>OWL streams real-time telemetry from connected hosts, providing live visualizations for:</p>
                <ul>
                    <li><strong>CPU Load</strong>: Per-core and aggregate utilization.</li>
                    <li><strong>Memory Usage</strong>: Detailed breakdown of RAM and Swap usage.</li>
                    <li><strong>Disk I/O & Capacity</strong>: Real-time tracking of storage availability.</li>
                </ul>

                <h3>Remote Process Manager</h3>
                <p>The built-in Process Manager allows you to monitor running tasks on the remote host. You can search
                    for specific processes, sort by resource consumption, and terminate (kill) processes directly from
                    the UI.</p>
            </section>

            <section id="advanced-features">
                <h2><i data-lucide="cpu"></i> Advanced Management Features</h2>

                <h3 id="command-palette">Command Palette</h3>
                <p>The Command Palette (<code>Ctrl + Shift + P</code>) is the central nervous system of OWL. It provides
                    a searchable, keyboard-driven interface to access every feature, connection, and snippet within the
                    application.</p>

                <h3 id="snippets">Command Snippets</h3>
                <p>Save frequently used commands or complex scripts as Snippets. Snippets can be executed with a single
                    click or through the Command Palette, ensuring consistency and reducing the risk of manual entry
                    errors.</p>

                <h3 id="session-logging">Advanced Session Logging</h3>
                <p>OWL can automatically record every terminal session for auditing and compliance. The built-in Log
                    Viewer features:</p>
                <ul>
                    <li><strong>Timeframe Filtering</strong>: Quickly locate logs from specific dates or ranges.</li>
                    <li><strong>Full-Text Search</strong>: Search through thousands of lines of log data instantly.</li>
                    <li><strong>Log Rotation</strong>: Automated management of log file sizes to prevent local disk
                        exhaustion.</li>
                </ul>

                <h3 id="backups">Encrypted Backups</h3>
                <p>Export your entire OWL configuration, including connections and snippets, into a single encrypted
                    backup file. This allows for secure migration between workstations while maintaining the integrity
                    of your sensitive data.</p>
            </section>
        </main>
    </div>

    <footer>
        <div class="footer-content">
            <div class="logo-container">
                <img src="owl_logo.png" alt="OWL Logo" class="logo-img">
                <span class="logo-text">OWL</span>
            </div>
            <p class="copyright">© 2025 OWL Connection Manager. Created with ❤️ by Mohamed AZGHARI.</p>
            <p class="copyright" style="font-size: 0.7rem; opacity: 0.5;">Licensed under GNU General Public License v3.0
            </p>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // GitHub Releases Integration for Documentation
        const REPO = 'owl-cm/OWL-Connection-Manager';
        const directDownloadLink = document.getElementById('direct-download-link');
        const navDownloadBtn = document.getElementById('nav-download-btn');

        async function fetchLatestRelease() {
            try {
                const response = await fetch(`https://api.github.com/repos/${REPO}/releases/latest`);
                if (!response.ok) throw new Error('Failed to fetch');
                const release = await response.json();
                const debAsset = release.assets.find(asset => asset.name.endsWith('.deb'));
                if (debAsset) {
                    directDownloadLink.href = debAsset.browser_download_url;
                    navDownloadBtn.href = debAsset.browser_download_url;
                }
            } catch (error) {
                console.error('Error fetching latest release:', error);
                directDownloadLink.href = 'https://github.com/' + REPO + '/releases';
                navDownloadBtn.href = 'https://github.com/' + REPO + '/releases';
            }
        }
        fetchLatestRelease();

        // Smooth scrolling for sidebar links
        document.querySelectorAll('.sidebar-links a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 120,
                        behavior: 'smooth'
                    });

                    // Update active state
                    document.querySelectorAll('.sidebar-links a').forEach(a => a.classList.remove('active'));
                    this.classList.add('active');
                }
            });
        });

        // Update active link on scroll
        window.addEventListener('scroll', () => {
            const navLinks = document.querySelectorAll('.sidebar-links a');
            const scrollPos = window.pageYOffset || document.documentElement.scrollTop;

            let currentId = '';

            navLinks.forEach(link => {
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);

                if (targetElement) {
                    const rect = targetElement.getBoundingClientRect();
                    const offsetTop = rect.top + scrollPos - 160;

                    if (scrollPos >= offsetTop) {
                        currentId = targetId;
                    }
                }
            });

            if (currentId) {
                navLinks.forEach(a => {
                    const isCurrent = a.getAttribute('href').substring(1) === currentId;
                    a.classList.toggle('active', isCurrent);
                });
            }
        });
    </script>
</body>

</html>